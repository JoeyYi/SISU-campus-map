<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>


<script type="text/javaScript" charset="UTF-8" src="js/Arrays.js" ></script>
<script type="text/javascript" charset="UTF-8" src="js/Canvas.js" ></script>
<!-- <link rel="stylesheet" href="css/default.css"> -->
<script type="text/javascript">
$(document).ready(function(){

 
    $("#building").bind("change",function(){ 
    if($(this).val()==0){
      return; 
    } 
    else{
		var a="#nav"+$(this).val(); 
		for(var i=1;i<12;i++){
			//$("#nav"+i).css("display","none");
			$("#nav"+i).hide();
		}
		//$(a).css("display","inline");
		$(a).slideToggle("fast");
		$("#bui").val($(this).val());

	} 
	}); 
	
	$("li").click(function(){
	$("#flo").val($(this).index()+1);
	
	$("#canvas").hide();pre();
	$("#canvas").fadeIn();
	});
	
	function changeHeight(){
	var screen = $(window).height(),
    header = $(".ui-header").hasClass("ui-header-fixed") ? $(".ui-header").outerHeight() - 1 : $(".ui-header").outerHeight(),
    footer = $(".ui-footer").hasClass("ui-footer-fixed") ? $(".ui-footer").outerHeight() - 1 : $(".ui-footer").outerHeight(),
    contentCurrent = $(".ui-content").outerHeight() - $(".ui-content").height(),
    content = screen - header - footer - contentCurrent;
//	$(".ui-content").height(content);


var buildingMap = document.createElement("canvas"); 
buildingMap.height=content-6;
buildingMap.width=$("#content").width();
buildingMap.style="border:1px solid #c3c3c3;";
buildingMap.id="map";
document.getElementById("canvas").appendChild(buildingMap); 
$( "#header" ).trigger( "updatelayout" );

//$("#map").height(content-6);
//$("#map").width($("#content").width());	
	
	}
	
	changeHeight();
	
	
/*<!-- var n =document.createElement("div");
n.width=100;
n.height=100;
n.style="background-color:red";
alert("aaa");
document.getElementById("header").appendChild(n); */

//$(".map").width($.mobile.getScreenWidth());
});

</script>
<style type="text/css">

p{
font-size:12px;
border-top-style:dotted;
border-bottom-style:dotted;
border-width: 2px;
border-color: white;
text-align:center;
}


</style>

<noscript>Your browser does not support JavaScript!</noscript>

</head>


<body>



<div data-role="page" id="p1">
	<div data-role="content">
		<div style="width:100px; height:100px; border-style:dotted; border-color:grey; margin:auto"></div>
		<p>This is a MAP.</p>
		<form class="ui-filterable">		
		<input id="autocomplete-input" data-type="search" placeholder="Search numbers...">
		</form>
				<ul data-role="listview" data-filter="true" data-filter-reveal="true" data-input="#autocomplete-input" data-inset="true">
					<li><a href="#">羽毛球场111</a></li>
					<li><a href="#">1365</a></li>
					<li><a href="#">76976</a></li>
					<li><a href="#">56758</a></li>
					<li><a href="#">9955</a></li>
					<li><a href="#">3622</a></li>
				</ul>
		<a href="#p2" data-transition="slideup" class="ui-btn ui-corner-all">Explore Campus</a>
	</div>			
</div>


<div data-role="page" id="p2">
  <div data-role="header" class="header" id="header" data-position="fixed" >


	<div data-role="controlgroup" data-type="horizontal" style="text-align:center"><!---->
	
	<select id="campus" >
		<option value="0">--请选择校区--</option>  
		<option value="1">松江校区</option> 
		<option value="2">虹口校区</option>  
	</select>
	
	<select  id="building"  >  
		<option value="0">--请选择教学楼--</option>  
		<option value="1">一教楼</option> 
		<option value="2">二教楼</option>  
		<option value="3">三教楼</option>  
		<option value="4">四教楼</option>
		<option value="5">五教楼</option> 
		<option value="6">六教楼</option> 
		<option value="7">七教楼</option> 
		<option value="8">八教楼</option> 
		<option value="9">图文信息中心</option>  
		<option value="10">师生活动中心</option>  
		<option value="11">教育会堂</option>  
	</select>  
	</div>
	
	  <div id="allnav" >	
  <div data-role="navbar" id="nav1" style="display:none">
    <ul >
      <li><a href="#anylink" >1楼</a></li>
      <li><a href="#anylink" >2楼</a></li>
      <li><a href="#anylink" >3楼</a></li>
      <li><a href="#anylink" >4楼</a></li>
    </ul>
  </div>
  
    <div data-role="navbar" id="nav2" style="display:none">
    <ul >
      <li><a href="#anylink" >1楼</a></li>
      <li><a href="#anylink" >2楼</a></li>
      <li><a href="#anylink" >3楼</a></li>
      <li><a href="#anylink" >4楼</a></li>
    </ul>
  </div>
  
    <div data-role="navbar" id="nav3" style="display:none">
    <ul >
      <li><a href="#anylink" >1楼</a></li>
      <li><a href="#anylink" >2楼</a></li>
      <li><a href="#anylink" >3楼</a></li>
      <li><a href="#anylink" >4楼</a></li>
    </ul>
  </div>
  
    <div data-role="navbar" id="nav4" style="display:none">
    <ul >
      <li><a href="#anylink" >1楼</a></li>
      <li><a href="#anylink" >2楼</a></li>
      <li><a href="#anylink" >3楼</a></li>
      <li><a href="#anylink" >4楼</a></li>
    </ul>
  </div>
  
    <div data-role="navbar" id="nav5" style="display:none">
    <ul >
      <li><a href="#anylink" >1楼</a></li>
      <li><a href="#anylink" >2楼</a></li>
      <li><a href="#anylink" >3楼</a></li>
      <li><a href="#anylink" >4楼</a></li>
    </ul>
  </div>
  
    <div data-role="navbar" id="nav6" style="display:none">
    <ul >
      <li><a href="#anylink" >1楼</a></li>
      <li><a href="#anylink" >2楼</a></li>
      <li><a href="#anylink" >3楼</a></li>
      <li><a href="#anylink" >4楼</a></li>
    </ul>
  </div>
  
    <div data-role="navbar" id="nav7" style="display:none">
    <ul >
      <li><a href="#anylink" >1楼</a></li>
      <li><a href="#anylink" >2楼</a></li>
      <li><a href="#anylink" >3楼</a></li>
      <li><a href="#anylink" >4楼</a></li>
    </ul>
  </div>
  
    <div data-role="navbar" id="nav8" style="display:none">
    <ul >
      <li><a href="#anylink" >1楼</a></li>
      <li><a href="#anylink" >2楼</a></li>
      <li><a href="#anylink" >3楼</a></li>
      <li><a href="#anylink" >4楼</a></li>
    </ul>
  </div>
  
    <div data-role="navbar" id="nav9" style="display:none">
    <ul >
      <li><a href="#anylink" >1楼</a></li>
      <li><a href="#anylink" >2楼</a></li>
      <li><a href="#anylink" >3楼</a></li>
      <li><a href="#anylink" >4楼</a></li>
	  <li><a href="#anylink" >5楼</a></li>
	  <li><a href="#anylink" >6楼</a></li>
      <li><a href="#anylink" >7楼</a></li>
    </ul>
  </div>
    <div data-role="navbar" id="nav10" style="display:none">
    <ul >
      <li><a href="#anylink" >1楼</a></li>
      <li><a href="#anylink" >2楼</a></li>
      <li><a href="#anylink" >3楼</a></li>
      <li><a href="#anylink" >4楼</a></li>
    </ul>
  </div>
  
    <div data-role="navbar" id="nav11" style="display:none">
    <ul >
      <li><a href="#anylink" >1楼</a></li>
      <li><a href="#anylink" >2楼</a></li>

    </ul>
  </div>
</div>
  
	  <div class="hidden" style="display:none">
		<input type="text" id="bui" ></input>
		<input type="text"id="flo" ></input>  
	  </div>
  </div>


  <div data-role="content" id="content">
	  <div class="canvas" id="canvas" >
		<!--<canvas id="map" style="border:1px solid #c3c3c3; width:100px ; height:100px"> 画布id=map 1200*1200 颜色设定
		<p>Your browser does not support the HTML5 canvas tag.</p>
		</canvas> -->
	  </div>
	  

  </div>
  

			
			
  <div  class="footer" data-role="footer" data-position="fixed" data-tap-toggle="false">
  <p >这是一条介绍/备注。</p>
<input id=cw type="button" onclick="cwRotate()" data-icon="forward" value="顺时针旋转" ></input><!-- 顺时针旋转按钮id=cw -->
<input id=aw type="button" onclick="awRotate()" data-icon="back" value="逆时针旋转" ></input><!-- 逆时针旋转按钮id=aw -->
  </div>
</div>
  
</body>

</html>
